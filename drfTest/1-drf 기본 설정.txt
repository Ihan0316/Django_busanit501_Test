ì¥ê³ ì—ì„œ, Django REST Framework(DRF)

1.
Django REST Framework ì„¤ì¹˜,
pip install djangorestframework

2.
INSTALLED_APPS ì„¤ì •

Djangoì˜ settings.py íŒŒì¼ì„ ì—´ê³ , INSTALLED_APPSì— rest_frameworkë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

INSTALLED_APPS = [
    ...
    "rest_framework",  # âœ… Django REST Framework ì¶”ê°€
]

3.
Post ëª¨ë¸ì„ ì˜ˆë¥¼ ë“¤ì–´, ë ˆìŠ¤íŠ¸ ì‘ì—…, crud,

- ìƒˆ app ìƒì„±, settings ì— ë“±ë¡
python manage.py startapp blog

í”„ë¡œì íŠ¸ëª…/settings.py

INSTALLED_APPS = [
    'blog',
    ...
    ]

ëª¨ë¸ (Model)

models.pyì— ê°„ë‹¨í•œ Post ëª¨ë¸ì„ ì •ì˜í•©ë‹ˆë‹¤.

from django.db import models

class Post(models.Model):
    title = models.CharField("í¬ìŠ¤íŠ¸ ì œëª©", max_length=100)
    content = models.TextField("í¬ìŠ¤íŠ¸ ë‚´ìš©")
    created_at = models.DateTimeField(auto_now_add=True)  # ìƒì„± ë‚ ì§œ ìë™ ì €ì¥

    def __str__(self):
        return self.title

ğŸ“Œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰

 python manage.py makemigrations
 python manage.py migrate

4
ê´€ë¦¬ì ì—°ê²°.
Postadmin êµ¬ì„±.
blog/admin.py  ì—ì„œ.
from django.contrib import admin
from blog.models import Post

# Register your models here.
@admin.register(Post)
class PostAdmin(admin.ModelAdmin):
    pass

5
ê´€ë¦¬ì ê³„ì • ìƒì„±.
python manage.py createsuperuser

6
ì‹œë¦¬ì–¼ë¼ì´ì € (Serializer)
Djangoì˜ ëª¨ë¸ ë°ì´í„°ë¥¼ JSONìœ¼ë¡œ ë³€í™˜í•´ì£¼ëŠ” serializers.pyë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

ğŸ“Œ serializers.py

from rest_framework import serializers
from .models import Post

class PostSerializer(serializers.ModelSerializer):
    class Meta:
        model = Post
        fields = ["id", "title", "content", "created_at"]  # JSONìœ¼ë¡œ ë³€í™˜í•  í•„ë“œ ì§€ì •

7
views ì‘ì—…, crud ì‘ì—…ì„ ìë™ìœ¼ë¡œ í•´ì£¼ëŠ” ë„êµ¬ ì´ìš©.

RESTful API ì—”ë“œí¬ì¸íŠ¸ (CRUD ê¸°ëŠ¥ ìë™ ì§€ì›)
# ModelViewSetì„ ì‚¬ìš©í•˜ë©´ CRUD(Create, Read, Update, Delete)
# APIë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•´ ì¤Œ.
# ë¶€ëª¨ í´ë˜ìŠ¤ : viewsets.ModelViewSet, ìƒì†,

class PostViewSet(viewsets.ModelViewSet):
    queryset = Post.objects.all()
    serializer_class = PostSerializer

8
ë¼ìš°íŒ… ì‘ì—…, urls
urls.py

from django.urls import path, include
from rest_framework.routers import DefaultRouter
from .views import PostViewSet

# âœ… ìë™ URL ë¼ìš°íŒ… (ModelViewSet ì‚¬ìš© ì‹œ)
# DefaultRouter()ë¥¼ ì‚¬ìš©í•˜ë©´ ìë™ìœ¼ë¡œ posts/ ê²½ë¡œì— APIë¥¼ ë§¤í•‘.
# router.register(r'posts', PostViewSet) â†’ posts/ ê²½ë¡œì—ì„œ CRUD API ì œê³µ.

router = DefaultRouter()
router.register(r"posts", PostViewSet)

urlpatterns = [
 path("api/", include(router.urls)),  # API ì—”ë“œí¬ì¸íŠ¸ ë“±ë¡

9
API ì—”ë“œí¬ì¸íŠ¸ í™•ì¸

GET /api/posts/ â†’ ëª¨ë“  ê²Œì‹œê¸€ ì¡°íšŒ
POST /api/posts/ â†’ ìƒˆë¡œìš´ ê²Œì‹œê¸€ ìƒì„±
GET /api/posts/{id}/ â†’ íŠ¹ì • ê²Œì‹œê¸€ ì¡°íšŒ
PUT /api/posts/{id}/ â†’ íŠ¹ì • ê²Œì‹œê¸€ ìˆ˜ì •
DELETE /api/posts/{id}/ â†’ íŠ¹ì • ê²Œì‹œê¸€ ì‚­ì œ

10
ìŠ¤ì›¨ê±°ë¥¼ ì„¤ì¹˜í•´ì„œ, ìë™ìœ¼ë¡œ ë ˆìŠ¤íŠ¸ ë“±ë¡

drf-yasg ì„¤ì¹˜
ë¨¼ì €, drf-yasg ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.
(Yet Another Swagger Generator)

pip install drf-yasg

11
INSTALLED_APPS = [
...
"drf_yasg",  # âœ… drf-yasg (Swagger) ì¶”ê°€
]

12
ë¼ìš°íŒ… ì‘ì—….
urls.py

from django.urls import path, re_path
from rest_framework import permissions
from drf_yasg.views import get_schema_view
from drf_yasg import openapi

# âœ… Swagger ì„¤ì •
schema_view = get_schema_view(
    openapi.Info(
        title="Django API ë¬¸ì„œ",
        default_version="v1",
        description="Django REST Frameworkë¥¼ ì‚¬ìš©í•œ API ë¬¸ì„œ",
        terms_of_service="https://www.google.com/policies/terms/",
        contact=openapi.Contact(email="admin@example.com"),
        license=openapi.License(name="MIT License"),
    ),
    public=True,
    permission_classes=(permissions.AllowAny,),  # ëª¨ë“  ì‚¬ìš©ì ì ‘ê·¼ ê°€ëŠ¥
)

urlpatterns = [
    # âœ… Swagger UI (ì›¹ ë¸Œë¼ìš°ì €ìš©)
    path("swagger/", schema_view.with_ui("swagger", cache_timeout=0), name="schema-swagger-ui"),

    # âœ… ReDoc (ëŒ€ì²´ UI)
    path("redoc/", schema_view.with_ui("redoc", cache_timeout=0), name="schema-redoc"),

    # âœ… API ëª…ì„¸ (JSON / YAML)
    re_path(r"^swagger(?P<format>\.json|\.yaml)$", schema_view.without_ui(cache_timeout=0), name="schema-json"),
]

13
í™•ì¸
http://localhost:8000/swagger
